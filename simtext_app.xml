<tool id="simtext_app" name="simtext_app" tool_type="interactive" version="@VERSION@">
    <description>Interactive shiny app to explore SimText output data</description>
    <macros>
        <import>macros.xml</import>
    </macros>
    <expand macro="requirements"/>
    <entry_points>
        <entry_point name="SimText App" requires_domain="true">
            <port>8888</port>
        </entry_point>
    </entry_points>
    <expand macro="stdio"/>
    <command><![CDATA[Rscript 
      '${__tool_directory__}/simtext_app.R'
      --input '$input'
      --matrix '$matrix'
      --host '0.0.0.0'
      --port '8888'
      ]]>
    </command>
    <inputs>
      <param argument="--input" label="Input file" name="input" optional="false" type="data" format="tabular" help="input"/>
      <param argument="--matrix" label="matrix file" name="matrix" optional="false" type="data" format="tabular" help="matrix"/>
    </inputs>
    <outputs>
      <data format="tabular" name="output" />
    </outputs>
    <tests><!-- cannot test interactive tools yet
        <test>
          <param name="input" value="test_data" ftype="tabular"/>
          <param name="matrix" value="text_to_wordmatrix_output"/>
        </test>-->
    </tests>
    <help><![CDATA[

The tool enables the exploration of data generated by ‘text_to_wordmatrix’ or ‘pmids_to_pubtator_matrix’ tools in a Shiny local instance. The following features can be generated: 1) word clouds for each initial search query, 2) dimension reduction and hierarchical clustering of binary matrices, and 3) tables with words and their frequency in the search queries.

1)	Input 1: 
Table with
	- A column with initial search queries starting with "ID_" (e.g., "ID_gene" if initial search queries were genes).
	- Column(s) with grouping factor(s) to compare pre-existing categories of the initial search queries with the grouping based on text. The column names should start with "GROUPING_". If the column name is "GROUPING_disorder", "disorder" will be shown as a grouping variable in the app.
2)	Input 2: 
The output of ‘text_to_wordmatrix’ or ‘pmids_to_pubtator_matrix’ tools, or a binary matrix.


        ]]></help>
    <expand macro="citations"/>
</tool>